---
const { locale = 'en' } = Astro.props;

const t: Record<string, Record<string, string>> = {
  en:      { title: '35+ AI Providers Supported', subtitle: 'All driven by protocol configuration — zero hardcoded logic for any provider', global: 'Global Providers', china: 'China Region' },
  'zh-cn': { title: '支持 35+ AI 服务商', subtitle: '通过协议配置驱动，无需任何硬编码即可接入全球和中国区主流 AI 服务商', global: '全球服务商', china: '中国区服务商' },
  ja:      { title: '35以上のAIプロバイダーに対応', subtitle: 'すべてプロトコル構成で駆動 — プロバイダーへのハードコードロジックはゼロ', global: 'グローバルプロバイダー', china: '中国リージョン' },
  es:      { title: 'Más de 35 proveedores de IA', subtitle: 'Todo impulsado por configuración de protocolo — cero lógica hardcodeada', global: 'Proveedores globales', china: 'Región de China' },
};
const i = t[locale] || t.en;

const globalProviders = [
  { name: 'OpenAI', icon: '/icons/openai.svg' },
  { name: 'Anthropic', icon: '/icons/anthropic.svg' },
  { name: 'Google Gemini', icon: '/icons/gemini.svg' },
  { name: 'Groq', icon: '/icons/groq.svg' },
  { name: 'Mistral', icon: '/icons/mistral.svg' },
  { name: 'Cohere', icon: '/icons/cohere.svg' },
  { name: 'Azure OpenAI', icon: '/icons/azure.svg' },
  { name: 'Together AI', icon: '/icons/togetherai.svg' },
  { name: 'Hugging Face', icon: '/icons/huggingface.svg' },
  { name: 'Grok', icon: '/icons/grok.svg' },
  { name: 'Ollama', icon: '/icons/ollama.svg' },
  { name: 'DeepInfra', icon: null },
  { name: 'OpenRouter', icon: null },
  { name: 'NVIDIA', icon: null },
  { name: 'Fireworks', icon: null },
  { name: 'Replicate', icon: null },
  { name: 'AI21 Labs', icon: null },
  { name: 'Cerebras', icon: null },
  { name: 'Perplexity', icon: null },
  { name: 'Lepton AI', icon: null },
];

const chinaProviders = [
  { name: 'DeepSeek', icon: '/icons/deepseek.svg' },
  { name: 'Qwen', icon: '/icons/qwen.svg' },
  { name: 'Doubao', icon: null },
  { name: 'Zhipu GLM', icon: null },
  { name: 'Baidu ERNIE', icon: '/icons/baidu.svg' },
  { name: 'Tencent Hunyuan', icon: '/icons/hunyuan.svg' },
  { name: 'iFlytek Spark', icon: '/icons/iflytek.svg' },
  { name: 'Moonshot', icon: '/icons/kimi.svg' },
  { name: 'MiniMax', icon: null },
  { name: 'Baichuan', icon: null },
  { name: 'Yi / 01.AI', icon: null },
  { name: 'SiliconFlow', icon: null },
  { name: 'SenseNova', icon: null },
  { name: 'Tiangong', icon: null },
];
---

<section class="section">
  <div class="container">
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-bold text-[var(--text)] mb-4">
        {i.title}
      </h2>
      <p class="text-lg text-[var(--text-dim)] max-w-2xl mx-auto">
        {i.subtitle}
      </p>
    </div>

    <!-- Global Providers -->
    <div class="mb-10">
      <h3 class="text-sm font-semibold text-[var(--text-muted)] uppercase tracking-wider mb-4">
        {i.global}
      </h3>
      <div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 gap-3">
        {globalProviders.map(p => (
          <div class="flex items-center gap-3 px-4 py-3 rounded-xl border border-[var(--border)] bg-[var(--bg-alt)] hover:border-[var(--border-light)] transition-colors">
            {p.icon ? (
              <img src={p.icon} alt={p.name} class="w-5 h-5 flex-shrink-0" />
            ) : (
              <div class="w-5 h-5 rounded bg-[var(--accent)]/20 flex items-center justify-center text-xs font-bold text-[var(--accent)] flex-shrink-0">
                {p.name.charAt(0)}
              </div>
            )}
            <span class="text-sm font-medium text-[var(--text)] truncate">{p.name}</span>
          </div>
        ))}
      </div>
    </div>

    <!-- China Region Providers -->
    <div>
      <h3 class="text-sm font-semibold text-[var(--text-muted)] uppercase tracking-wider mb-4">
        {i.china}
      </h3>
      <div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 gap-3">
        {chinaProviders.map(p => (
          <div class="flex items-center gap-3 px-4 py-3 rounded-xl border border-[var(--border)] bg-[var(--bg-alt)] hover:border-[var(--border-light)] transition-colors">
            {p.icon ? (
              <img src={p.icon} alt={p.name} class="w-5 h-5 flex-shrink-0" />
            ) : (
              <div class="w-5 h-5 rounded bg-emerald-500/20 flex items-center justify-center text-xs font-bold text-emerald-400 flex-shrink-0">
                {p.name.charAt(0)}
              </div>
            )}
            <span class="text-sm font-medium text-[var(--text)] truncate">{p.name}</span>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>
